#include <string.h>
#include <stdlib.h>
#include <stdio.h>

void __attribute__ ((noinline)) bad();
void __attribute__ ((noinline)) foo();

void bad() {
    printf("Oh no :(\n");
    exit(0);
}

void helper(const char* buffer) {
    printf("Everything is reversed :): %s\n", buffer);
}

void foo() {
    char buffer[64];
    int count = 0x80, c = 0x81, index = 0x82, i = 0x83;
    char *message = "Everything is OK!";
    int len = strlen(message);

    memset(buffer, 'a', 64);

    while (1) {
        c = getchar();

        if (c == EOF) {
            break;
        }

        count = c;

        // read the string in reverse.
        for (i = 0; i < count; i++) {
            c = getchar();

            if (c == EOF) {
                break;
            }

            index = sizeof(buffer) - (i + 1);
            buffer[index] = c;
        }

        buffer[sizeof(buffer) - 1] = 0;

        for (int i = 0; i < len; i++) {
            putchar(message[i]);
        }

        putchar('\n');
    }
}

int main() {
    foo();
    return 0;
}
